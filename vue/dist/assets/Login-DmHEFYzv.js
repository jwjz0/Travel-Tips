/* empty css             *//* empty css                  *//* empty css               *//* empty css               *//* empty css                  *//* empty css              */import{r as E}from"./request-DstbRXb0.js";import{_ as V,a as f,r as y,T as I,c as k,b as a,d as o,w as r,M as z,i as N,o as R,N as D,D as S,V as U,W as B,E as C,j as M,f as q,y as c,g}from"./index-BhvLEkWq.js";const L={class:"bg"},A={style:{"box-shadow":"0 0 10px rgba(0,174,244,0.8)","border-radius":"25px","margin-bottom":"15%",width:"450px",height:"500px","background-color":"rgba(204,231,248,0.76)",padding:"40px"}},F={__name:"Login",setup(O){const i=f(),t=y({form:{role:"ADMIN",username:"",password:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),p=f(!0),l=()=>{p.value=!t.form.username||!t.form.password};I(()=>{l()});const _=()=>{i.value.validate(m=>{m&&E.post("/login",t.form).then(e=>{e.code==="200"?(localStorage.setItem("user",JSON.stringify(e.data||{})),c.success("登陆成功"),e.data.role==="USER"?g.push("/front"):g.push("/")):c.error(e.msg)})})};return(m,e)=>{const d=S,n=D,u=B,x=U,b=N("Right"),w=M,h=C,v=z;return R(),k("div",L,[a("div",A,[o(v,{ref_key:"formRef",ref:i,model:t.form,rules:t.rules},{default:r(()=>[e[3]||(e[3]=a("div",{style:{margin:"30px 0","text-align":"center","font-weight":"normal","font-size":"19px"}},"登 陆",-1)),o(n,{prop:"username"},{default:r(()=>[o(d,{size:"large",placeholder:"账号",modelValue:t.form.username,"onUpdate:modelValue":e[0]||(e[0]=s=>t.form.username=s),autocomplete:"off","prefix-icon":"ColdDrink",onInput:l},null,8,["modelValue"])]),_:1}),o(n,{prop:"password"},{default:r(()=>[o(d,{size:"large","show-password":"",placeholder:"密码",style:{"margin-top":"10px"},modelValue:t.form.password,"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.password=s),autocomplete:"off","prefix-icon":"Lock",onInput:l},null,8,["modelValue"])]),_:1}),o(n,{prop:"role"},{default:r(()=>[o(x,{size:"large",style:{"margin-top":"10px",width:"100%"},modelValue:t.form.role,"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.role=s)},{default:r(()=>[o(u,{label:"管理员",value:"ADMIN"}),o(u,{label:"普通用户",value:"USER"})]),_:1},8,["modelValue"])]),_:1}),a("div",null,[o(h,{style:{"border-radius":"30px",height:"60px",width:"20%","margin-top":"20px","margin-left":"40%"},size:"large",type:"primary",disabled:p.value,onClick:_},{default:r(()=>[o(w,{size:"large"},{default:r(()=>[o(b)]),_:1})]),_:1},8,["disabled"])]),e[4]||(e[4]=a("div",{style:{"font-size":"14px","margin-top":"20px","text-align":"right"}},[q(" 没有账号?请"),a("a",{style:{"font-weight":"bold",color:"#1793ca"},href:"/register"},"注册")],-1))]),_:1},8,["model","rules"])])])}}},Q=V(F,[["__scopeId","data-v-8a4a05d5"]]);export{Q as default};
